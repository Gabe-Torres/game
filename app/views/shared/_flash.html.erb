<% if Array.wrap(flash[category]).present? %>
  <div data-controller="flash" data-flash-target="message" data-flash-hidden-class="hidden">
    <% if Array.wrap(flash[category]).size == 1 %>
      <div class="rounded-md <%= category == :error ? "bg-red-50 border-red-500 text-red-500" : "bg-cyan-50 border-cyan-500 text-cyan-500" %> p-4">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          <div class="flex">
            <div class="flex-shrink-0">
              <% if category == :error %>
                <%= render "shared/flash_error_icon" %>
              <% else %>
                <%= render "shared/flash_notice_icon" %>
              <% end %>
            </div>
            <div class="ml-3 flex-1 md:flex md:justify-between">
              <p class="text-sm font-medium <%= category == :error ? "text-red-800" : "text-cyan-800" %>"><%= flash[category] %></p>
            </div>
          </div>
        </div>
      </div>
    <% else %>
      <div class="rounded-md <%= category == :error ? "bg-red-50 border-red-500 text-red-500" : "bg-cyan-50 border-cyan-500 text-cyan-500" %> p-4">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          <div class="flex">
            <div class="flex-shrink-0">
              <% if category == :error %>
                <%= render "shared/flash_error_icon" %>
              <% else %>
                <%= render "shared/flash_notice_icon" %>
              <% end %>
            </div>
            <div class="ml-3">
              <h3 class="text-sm font-medium <%= category == :error ? "text-red-800" : "text-cyan-800" %>">
                There were <%= Array.wrap(flash[category]).size %>  <%= category %>s with your submission
              </h3>
              <div class="mt-2 text-sm <%= category == :error ? "text-red-700" : "text-cyan-700" %>">
                <ul class="list-disc space-y-1 pl-5">
                  <% Array.wrap(flash[category]).each do |flash| %>
                    <li><%= flash %></li>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
